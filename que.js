const questions = {
  easy: [
    {
      questionOne: "What is 2 + 2?",
      answerOne: "4",
      questionTwo: "What is 3 - 1?",
      answerTwo: "2",
    },
    {
      questionOne: "What is 10 - 5 + 2?",
      answerOne: "7",
      questionTwo: "What is 5 + 3?",
      answerTwo: "8",
    },
    {
      questionOne: "What is 4 - 2?",
      answerOne: "2",
      questionTwo: "What is 7 + 1?",
      answerTwo: "8",
    },
    {
      questionOne: "What is 6 - 3?",
      answerOne: "3",
      questionTwo: "What is 9 + 2?",
      answerTwo: "11",
    },
    {
      questionOne: "What is 8 + 3?",
      answerOne: "11",
      questionTwo: "What is 12 - 5?",
      answerTwo: "7",
    },
    {
      questionOne: "What is 4 - 1?",
      answerOne: "3",
      questionTwo: "What is 6 + 2?",
      answerTwo: "8",
    },
    {
      questionOne: "What is 5 - 1?",
      answerOne: "4",
      questionTwo: "What is 9 + 4?",
      answerTwo: "13",
    },
    {
      questionOne: "What is 1 + 1?",
      answerOne: "2",
      questionTwo: "What is 4 - 1?",
      answerTwo: "3",
    },
    {
      questionOne: "What is 6 + 1?",
      answerOne: "7",
      questionTwo: "What is 9 - 2?",
      answerTwo: "7",
    },
    {
      questionOne: "What is 10 - 2?",
      answerOne: "8",
      questionTwo: "What is 3 + 3?",
      answerTwo: "6",
    },
    {
      questionOne: "What is 5 - 3?",
      answerOne: "2",
      questionTwo: "What is 7 + 2?",
      answerTwo: "9",
    },
    {
      questionOne: "What is 4 - 1?",
      answerOne: "3",
      questionTwo: "What is 10 + 1?",
      answerTwo: "11",
    },
    {
      questionOne: "What is 8 + 4?",
      answerOne: "12",
      questionTwo: "What is 6 - 2?",
      answerTwo: "4",
    },
    {
      questionOne: "What is 5 - 2?",
      answerOne: "3",
      questionTwo: "What is 9 + 3?",
      answerTwo: "12",
    },
    {
      questionOne: "What is 7 + 1?",
      answerOne: "8",
      questionTwo: "What is 4 - 3?",
      answerTwo: "1",
    },
    {
      questionOne: "What is 2 + 2?",
      answerOne: "4",
      questionTwo: "What is 3 - 1?",
      answerTwo: "2",
    },
    {
      questionOne: "What is 10 - 5 + 2?",
      answerOne: "7",
      questionTwo: "What is 5 + 3?",
      answerTwo: "8",
    },
    {
      questionOne: "What is 4 - 2?",
      answerOne: "2",
      questionTwo: "What is 7 + 1?",
      answerTwo: "8",
    },
    {
      questionOne: "What is 6 - 3?",
      answerOne: "3",
      questionTwo: "What is 9 + 2?",
      answerTwo: "11",
    },
    {
      questionOne: "What is 8 + 3?",
      answerOne: "11",
      questionTwo: "What is 12 - 5?",
      answerTwo: "7",
    },
    {
      questionOne: "What is 4 - 1?",
      answerOne: "3",
      questionTwo: "What is 6 + 2?",
      answerTwo: "8",
    },
    {
      questionOne: "What is 5 - 1?",
      answerOne: "4",
      questionTwo: "What is 9 + 4?",
      answerTwo: "13",
    },
    {
      questionOne: "What is 1 + 1?",
      answerOne: "2",
      questionTwo: "What is 4 - 1?",
      answerTwo: "3",
    },
    {
      questionOne: "What is 6 + 1?",
      answerOne: "7",
      questionTwo: "What is 9 - 2?",
      answerTwo: "7",
    },
    {
      questionOne: "What is 10 - 2?",
      answerOne: "8",
      questionTwo: "What is 3 + 3?",
      answerTwo: "6",
    },
  ],
  medium: [
    {
      questionOne: "(2 - 2 / 1) + (10 * 2 / 5)",
      answerOne: "5",
      questionTwo: "(4 + 6) * 2 - 10 / 5",
      answerTwo: "12",
    },
    {
      questionOne: "((3 + 5) / 2) + (9 - 3)",
      answerOne: "10",
      questionTwo: "((10 * 3) + 6) / 2",
      answerTwo: "18",
    },
    {
      questionOne: "(8 / 2) * (4 - 1)",
      answerOne: "12",
      questionTwo: "((15 + 5) * 2) - (10 / 2)",
      answerTwo: "30",
    },
    {
      questionOne: "(18 / 3) + (12 / 4)",
      answerOne: "9",
      questionTwo: "(6 * 4) - ((12 + 3) / 5)",
      answerTwo: "21",
    },
    {
      questionOne: "((20 - 10) * 3) + (18 / 3)",
      answerOne: "42",
      questionTwo: "((16 / 4) + 3) * 2",
      answerTwo: "14",
    },
    {
      questionOne: "((7 - 3) * 5) + (15 / 3)",
      answerOne: "25",
      questionTwo: "((9 + 3) / 2) * 4",
      answerTwo: "24",
    },
    {
      questionOne: "((14 - 6) / 2) + (11 * 2)",
      answerOne: "21",
      questionTwo: "(8 / 2) + ((18 - 6) * 3)",
      answerTwo: "40",
    },
    {
      questionOne: "(10 * 2) - ((16 + 4) / 2)",
      answerOne: "15",
      questionTwo: "((12 - 4) * 3) + (14 / 2)",
      answerTwo: "29",
    },
    {
      questionOne: "(20 / 4) + ((9 - 3) * 2)",
      answerOne: "17",
      questionTwo: "((15 + 3) * 2) - (10 / 2)",
      answerTwo: "31",
    },
    {
      questionOne: "((6 * 5) + 4) / 2",
      answerOne: "17",
      questionTwo: "((18 / 2) + 3) * 2",
      answerTwo: "27",
    },
    {
      questionOne: "((3 - 1) * 4) + (5 / 2)",
      answerOne: "12",
      questionTwo: "((8 + 2) * 3) - (10 / 2)",
      answerTwo: "23",
    },
    {
      questionOne: "(12 / 3) + ((9 - 3) * 2)",
      answerOne: "15",
      questionTwo: "((16 + 4) * 2) - (9 / 3)",
      answerTwo: "27",
    },
    {
      questionOne: "((7 - 2) * 5) + (15 / 3)",
      answerOne: "25",
      questionTwo: "((10 + 3) * 4) - (6 / 2)",
      answerTwo: "41",
    },
    {
      questionOne: "((14 - 5) / 2) + (11 * 3)",
      answerOne: "29",
      questionTwo: "(6 / 2) + ((18 - 5) * 3)",
      answerTwo: "35",
    },
    {
      questionOne: "(9 * 2) - ((16 + 4) / 2)",
      answerOne: "15",
      questionTwo: "((12 - 3) * 3) + (14 / 2)",
      answerTwo: "31",
    },
    {
      questionOne: "(15 / 3) + ((9 - 2) * 2)",
      answerOne: "15",
      questionTwo: "((15 + 2) * 2) - (9 / 3)",
      answerTwo: "29",
    },
    {
      questionOne: "((6 - 2) * 4) + (5 / 2)",
      answerOne: "17",
      questionTwo: "((8 + 3) * 3) - (10 / 2)",
      answerTwo: "28",
    },
    {
      questionOne: "(10 / 2) + ((7 - 3) * 2)",
      answerOne: "13",
      questionTwo: "((12 + 1) * 2) - (7 / 2)",
      answerTwo: "22",
    },
    {
      questionOne: "((9 - 2) * 5) + (15 / 3)",
      answerOne: "40",
      questionTwo: "((10 + 2) * 3) - (9 / 2)",
      answerTwo: "27",
    },
    {
      questionOne: "((14 - 4) / 2) + (11 * 3)",
      answerOne: "31",
      questionTwo: "(7 / 2) + ((18 - 4) * 3)",
      answerTwo: "38",
    },
    {
      questionOne: "(9 * 3) - ((16 + 3) / 2)",
      answerOne: "23",
      questionTwo: "((12 - 2) * 3) + (14 / 2)",
      answerTwo: "34",
    },
    {
      questionOne: "(18 / 3) + ((9 - 1) * 2)",
      answerOne: "20",
      questionTwo: "((15 + 1) * 2) - (9 / 3)",
      answerTwo: "31",
    },
    {
      questionOne: "((6 - 1) * 4) + (6 / 2)",
      answerOne: "23",
      questionTwo: "((8 + 2) * 3) - (8 / 2)",
      answerTwo: "29",
    },
    {
      questionOne: "(12 / 3) + ((9 - 2) * 2)",
      answerOne: "20",
      questionTwo: "((16 + 2) * 2) - (8 / 2)",
      answerTwo: "28",
    },
    {
      questionOne: "((7 - 1) * 5) + (15 / 3)",
      answerOne: "30",
      questionTwo: "((9 + 3) * 4) - (6 / 2)",
      answerTwo: "39",
    },
    {
      questionOne: "((14 - 3) / 2) + (11 * 3)",
      answerOne: "35",
      questionTwo: "(8 / 2) + ((18 - 3) * 3)",
      answerTwo: "46",
    },
    {
      questionOne: "(9 * 4) - ((16 + 2) / 2)",
      answerOne: "26",
      questionTwo: "((12 - 1) * 3) + (14 / 2)",
      answerTwo: "37",
    },
    {
      questionOne: "(18 / 3) + ((9 - 3) * 2)",
      answerOne: "21",
      questionTwo: "((15 + 3) * 2) - (7 / 2)",
      answerTwo: "30",
    },
    {
      questionOne: "((6 - 2) * 4) + (8 / 2)",
      answerOne: "20",
      questionTwo: "((8 + 4) * 3) - (9 / 2)",
      answerTwo: "33",
    },
    {
      questionOne: "(10 / 2) + ((7 - 2) * 2)",
      answerOne: "13",
      questionTwo: "((12 + 2) * 3) - (6 / 2)",
      answerTwo: "33",
    },
    {
      questionOne: "((9 - 2) * 5) + (15 / 3)",
      answerOne: "40",
      questionTwo: "((10 + 3) * 4) - (5 / 2)",
      answerTwo: "43",
    },
    {
      questionOne: "((14 - 4) / 2) + (11 * 2)",
      answerOne: "27",
      questionTwo: "(8 / 2) + ((18 - 5) * 3)",
      answerTwo: "38",
    },
    {
      questionOne: "(9 * 3) - ((16 + 3) / 2)",
      answerOne: "23",
      questionTwo: "((12 - 3) * 3) + (14 / 2)",
      answerTwo: "34",
    },
  ],
  hard: [
    {
      questionOne: "x + 2 = 1, find x",
      answerOne: "-1",
      questionTwo: "10x - 2 = 200, find x",
      answerTwo: "22",
    },
    {
      questionOne: "2x + 5 = 15, find x",
      answerOne: "5",
      questionTwo: "3x - 8 = 7, find x",
      answerTwo: "5",
    },
    {
      questionOne: "5x + 10 = 35, find x",
      answerOne: "5",
      questionTwo: "7x - 12 = 58, find x",
      answerTwo: "10",
    },
    {
      questionOne: "8x + 6 = 50, find x",
      answerOne: "6",
      questionTwo: "12x - 18 = 66, find x",
      answerTwo: "8",
    },
    {
      questionOne: "6x + 24 = 54, find x",
      answerOne: "5",
      questionTwo: "9x - 15 = 45, find x",
      answerTwo: "8",
    },
    {
      questionOne: "11x + 22 = 77, find x",
      answerOne: "5",
      questionTwo: "14x - 28 = 42, find x",
      answerTwo: "6",
    },
    {
      questionOne: "18x + 45 = 135, find x",
      answerOne: "6",
      questionTwo: "20x - 60 = 80, find x",
      answerTwo: "7",
    },
    {
      questionOne: "25x + 35 = 160, find x",
      answerOne: "5",
      questionTwo: "30x - 50 = 100, find x",
      answerTwo: "5",
    },
    {
      questionOne: "35x + 15 = 180, find x",
      answerOne: "5",
      questionTwo: "40x - 80 = 240, find x",
      answerTwo: "8",
    },
    {
      questionOne: "45x + 90 = 315, find x",
      answerOne: "5",
      questionTwo: "50x - 100 = 200, find x",
      answerTwo: "6",
    },
    {
      questionOne: "3x + 4 = 2x + 9, find x",
      answerOne: "5",
      questionTwo: "7x - 6 = 2x + 16, find x",
      answerTwo: "7",
    },
    {
      questionOne: "6x - 8 = 4x + 14, find x",
      answerOne: "11",
      questionTwo: "9x + 12 = 3x + 42, find x",
      answerTwo: "6",
    },
    {
      questionOne: "12x + 15 = 5x + 30, find x",
      answerOne: "3",
      questionTwo: "15x - 9 = 6x + 27, find x",
      answerTwo: "6",
    },
    {
      questionOne: "18x - 12 = 6x + 30, find x",
      answerOne: "4",
      questionTwo: "21x + 9 = 7x + 56, find x",
      answerTwo: "4",
    },
    {
      questionOne: "27x + 24 = 9x + 75, find x",
      answerOne: "3",
      questionTwo: "33x - 15 = 11x + 66, find x",
      answerTwo: "3",
    },
    {
      questionOne: "40x + 30 = 10x + 90, find x",
      answerOne: "3",
      questionTwo: "44x - 10 = 12x + 76, find x",
      answerTwo: "2",
    },
    {
      questionOne: "50x + 20 = 15x + 85, find x",
      answerOne: "3",
      questionTwo: "55x - 5 = 20x + 75, find x",
      answerTwo: "2",
    },
    {
      questionOne: "60x + 15 = 18x + 105, find x",
      answerOne: "3",
      questionTwo: "66x + 6 = 22x + 90, find x",
      answerTwo: "3",
    },
    {
      questionOne: "75x - 10 = 25x + 125, find x",
      answerOne: "3",
      questionTwo: "80x + 20 = 30x + 140, find x",
      answerTwo: "2",
    },
    {
      questionOne: "90x + 40 = 30x + 170, find x",
      answerOne: "3",
      questionTwo: "99x + 18 = 33x + 135, find x",
      answerTwo: "2",
    },
    {
      questionOne: "2x + 5 = 3x + 10, find x",
      answerOne: "5",
      questionTwo: "3x - 4 = 2x + 5, find x",
      answerTwo: "9",
    },
    {
      questionOne: "5x - 7 = 4x + 6, find x",
      answerOne: "13",
      questionTwo: "7x + 12 = 6x - 3, find x",
      answerTwo: "-15",
    },
    {
      questionOne: "9x + 6 = 3x + 21, find x",
      answerOne: "5",
      questionTwo: "10x - 5 = 2x + 25, find x",
      answerTwo: "10",
    },
    {
      questionOne: "15x - 12 = 5x + 33, find x",
      answerOne: "3",
      questionTwo: "18x + 10 = 6x + 56, find x",
      answerTwo: "6",
    },
    {
      questionOne: "24x + 8 = 8x + 56, find x",
      answerOne: "4",
      questionTwo: "25x - 5 = 7x + 45, find x",
      answerTwo: "10",
    },
    {
      questionOne: "28x + 14 = 9x + 63, find x",
      answerOne: "7",
      questionTwo: "30x + 6 = 10x + 60, find x",
      answerTwo: "6",
    },
    {
      questionOne: "35x - 10 = 10x + 75, find x",
      answerOne: "5",
      questionTwo: "38x + 12 = 12x + 66, find x",
      answerTwo: "3",
    },
    {
      questionOne: "45x + 30 = 15x + 135, find x",
      answerOne: "3",
      questionTwo: "50x + 5 = 18x + 125, find x",
      answerTwo: "5",
    },
    {
      questionOne: "x + 2 = 1, find x",
      answerOne: "-1",
      questionTwo: "10x - 2 = 200, find x",
      answerTwo: "22",
    },
    {
      questionOne: "2x + 5 = 15, find x",
      answerOne: "5",
      questionTwo: "3x - 8 = 7, find x",
      answerTwo: "5",
    },
    {
      questionOne: "5x + 10 = 35, find x",
      answerOne: "5",
      questionTwo: "7x - 12 = 58, find x",
      answerTwo: "10",
    },
    {
      questionOne: "25x + 35 = 160, find x",
      answerOne: "5",
      questionTwo: "30x - 50 = 100, find x",
      answerTwo: "5",
    },
    {
      questionOne: "40x - 80 = 240, find x",
      answerOne: "8",
      questionTwo: "45x + 90 = 315, find x",
      answerTwo: "5",
    },
    {
      questionOne: "20x - 60 = 80, find x",
      answerOne: "7",
      questionTwo: "35x + 15 = 180, find x",
      answerTwo: "5",
    },
    {
      questionOne: "18x + 45 = 135, find x",
      answerOne: "6",
      questionTwo: "50x - 100 = 200, find x",
      answerTwo: "6",
    },
    {
      questionOne: "60x + 30 = 300, find x",
      answerOne: "4",
      questionTwo: "25x - 25 = 100, find x",
      answerTwo: "5",
    },
  ],
};

const fname = document.getElementById("fname");

//get the data from the localStorage
const sorted = localStorage.getItem("Game-Options");
let gameObject = JSON.parse(sorted);

fname.innerText = gameObject.username;

const getQuestions = (difficulty) => {
  const SDifficulty = questions[difficulty];

  const SQuestions = SDifficulty.slice().sort(() => Math.random() - 0.5);
  return SQuestions.slice(0, 6);
};

const SQuestions = getQuestions(gameObject.gameMode);

const questionsContainer = document.getElementById("questions-container");

SQuestions.forEach((question, index) => {
  questionsContainer.innerHTML += `
        <div class="col">
          <div style="background-color: #0977ccd2" class="h-100">
            <div class="row g-0">
              <div class="col-md-4">
                <img
                  src="./image/31022.png"
                  class="img-fluid rounded-start d-none d-md-block img-style"
                  alt="math-icon"
                />
              </div>
              <div class="col-md-1"></div>
              <div class="col-md-7">
                <div class="card-body" style="margin: 10px">
                  <label for="q${
                    index + 1
                  }a" class="card-title fw-bold text-warning mb-2">
                    Question ${index + 1}a: ${question.questionOne}
                  </label>
                  <input
                    type="text"
                    id="q${index + 1}a"
                    class="form-control mb-2"
                    placeholder="Your answer"
                  />
                  <label for="q${
                    index + 1
                  }b" class="card-title fw-bold text-warning mb-2">
                    Question ${index + 1}b: ${question.questionTwo}
                  </label>
                  <input
                    type="text"
                    id="q${index + 1}b"
                    class="form-control mb-2"
                    placeholder="Your answer"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
      `;
});

const points = {
  easy: 0,
  medium: 0,
  hard: 0,
};

const checkOnAnswer = () => {
  SQuestions.forEach((question, index) => {
    const userAnswerA = document.getElementById(`q${index + 1}a`).value;
    const userAnswerB = document.getElementById(`q${index + 1}b`).value;

    if (
      userAnswerA === question.answerOne ||
      userAnswerB === question.answerOne
    ) {
      points[gameObject.gameMode] += 1; // Increment points by 1
    }
    if (
      userAnswerA === question.answerTwo ||
      userAnswerB === question.answerTwo
    ) {
      points[gameObject.gameMode] += 1; // Increment points by 1
    }
  });

  localStorage.setItem("points", JSON.stringify(points));
};

// Attach event listener to the "Check" button
const checkButton = document.getElementById("check-button");
checkButton.addEventListener("click", checkOnAnswer);

let count = document.getElementById("timer");
count.textContent = 20;

let set = setInterval(function () {
  if (count.textContent <= 0) {
    clearInterval(set);
    questionsContainer.innerHTML = ``;
    document.getElementById("button-section").innerHTML = ``;

    document.getElementById("another-element").innerHTML = `
        <div class="d-flex flex-column gap-2">
            <h2 class="timeText">Time Out</h2>
            <button
              type="button"
              class="btn fw-bold btn-warning mb-5"
              onclick="window.location.reload()"
            >
            Try Again
            </button>
            <a
            href="result.html"
            id="check-button"
            type="button"
            class="btn fw-bold btn-warning mb-5"
          >
            Change mode
          </a>
        </div>
        `;
  } else {
    count.textContent--;
  }
}, 1000);
